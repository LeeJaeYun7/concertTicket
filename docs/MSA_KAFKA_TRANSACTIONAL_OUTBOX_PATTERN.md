# MSA 기반 서비스 분리 시, Transactional Outbox Pattern 적용 보고서 

## 개요

이 보고서는 크게 6가지 파트로 구성됩니다.
  
**1) 문제 정의 - 분산 시스템에서 데이터 일관성 확보의 어려움** <br>
**2) 기존 예약 기능** <br>
**3) 2PC 방식 vs Saga 패턴** <br>
**4) MSA로 분리된 예약&결제 기능** <br>
**5) MSA 도입을 통해 개선된 점** <br> 
**6) 참고 자료** <br> 



### 1) 문제 정의 - 분산 시스템에서 데이터 일관성 확보의 어려움

- MSA 기반 서비스 분리 시, 특정 서버에서 발생한 이벤트를 다른 서버로 발송해야 하는 경우가 있습니다. <br> 
  이러한 경우, 데이터 일관성을 확보하는 것이 어렵습니다. <br> 
  이 문제를 예시를 통해 좀 더 자세하게 살펴보겠습니다. <br> 


#### (1) 발행되어야 하는 메시지가 발행되지 않는 경우
  ![image](https://github.com/user-attachments/assets/51114dfa-b937-4663-850c-3c848aa97f75)



#### (2) 발행되지 않아야 하는 메시지가 발행되는 경우
 








### 6) 참고 자료
- 분산 시스템에서 메시지 안전하게 다루기(https://blog.gangnamunni.com/post/transactional-outbox/)
- 

